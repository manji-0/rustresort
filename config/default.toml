# RustResort Configuration
# This is the default configuration file

[server]
host = "127.0.0.1"
port = 3000
domain = "localhost"
protocol = "http"

[database]
path = "data/rustresort.db"

[database.sync]
mode = "none"            # none | turso | d1
interval_seconds = 300

[database.sync.turso]
# remote_url = "libsql://your-db.turso.io"
# auth_token = "your-turso-auth-token"

[database.sync.d1]
# database = "your-d1-database-name"
# Requires local CLI tools in PATH: `sqlite3`, `sqldiff`, and `wrangler`.
remote = false
# wrangler_config = "wrangler.toml"
# snapshot_path = "data/rustresort.d1-sync-snapshot.db"
history_retention_count = 10000  # set 0 to disable pruning

[storage]
[storage.media]
bucket = "rustresort-media"
public_url = "http://localhost:9000/rustresort-media"

[storage.backup]
enabled = false
bucket = "rustresort-backup"
interval_seconds = 86400  # 24 hours
retention_count = 7

[cloudflare]
account_id = "your-account-id"
r2_access_key_id = "your-access-key-id"
r2_secret_access_key = "your-secret-access-key"

[auth]
github_client_id = "your-github-client-id"
github_client_secret = "your-github-client-secret"
github_allowed_username = "your-github-username"
session_secret = "change-this-to-a-random-secret-key"

[instance]
title = "RustResort"
description = "A lightweight, single-user ActivityPub server"
contact_email = "admin@example.com"

[admin]
username = "admin"
display_name = "Admin"
# email defaults to instance.contact_email
# note = "Instance administrator"

[cache]
timeline_max_items = 2000

[logging]
level = "info"
format = "pretty"
